<dsfr-tabs [selectedTabIndex]="selectedTabIndex" [tabsAriaLabel]="tabsAriaLabel" [fullViewport]="fullViewport">


    <dsfr-tab tabId="tab-table" label="Tableau">
      <div class="wrapper-tab-content">

        <div *ngIf="!dataLoaded" class="spinner-wrapper">
          <span class="loading-spinner"></span>
        </div>
        
        <div *ngIf="dataLoaded" class="fr-grid-row fr-grid-row--gutters test">
          <div class="fr-col-12">
            <dsfr-datatable #datatable
              [caption]="''"
              [data]="mappedResults"
              [columns]="columns"
              [showSearch]="false"
              [pagination]="true"
              [initialState]="initialState"
              [rowsPerPageOptions]="rowsPerPageOptions"
            ></dsfr-datatable>
          </div>
        </div>
      </div>
    </dsfr-tab>

    <dsfr-tab tabId="tab-cartographie" label="Cartographie">
      <div class="wrapper-tab-content">
      <div *ngIf="dataLoaded" class="fr-grid-row fr-grid-row--gutters test">
        <div class="fr-col-12">
          <data-qpv-map [searchArgs]="searchArgs"></data-qpv-map>
        </div>
      </div>
      </div>
    </dsfr-tab>


</dsfr-tabs>
